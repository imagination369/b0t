# Scripts

Utility scripts for the Social Cat project.

## Export Railway Environment Variables

**Script:** `export-railway-env.sh`
**Command:** `npm run railway:env`

This script reads your local `.env` file and generates `railway variables set` commands to sync your environment variables to Railway.

### Usage

1. **Make sure you have a `.env` file** with your local environment variables (copy from `.env.example` if needed)

2. **Run the script to preview commands:**
   ```bash
   npm run railway:env
   ```

3. **Review the output** - it will show railway commands like:
   ```bash
   railway variables set OPENAI_API_KEY="sk-..."
   railway variables set TWITTER_API_KEY="..."
   railway variables set AUTH_SECRET="..."
   ```

4. **Copy and paste the commands** you want to set in Railway, or pipe them directly:
   ```bash
   npm run railway:env | grep 'railway variables set' | bash
   ```

### What Gets Skipped

The script automatically skips:
- Empty values
- Placeholder values (containing `your_` or `_here`)
- `DATABASE_URL` (auto-generated by Railway when you add PostgreSQL)
- `REDIS_URL` (auto-generated by Railway when you add Redis)
- Comments and empty lines

### Important Variables to Set

Make sure these are set in Railway for production:

**Required:**
- `AUTH_SECRET` - Generate with: `openssl rand -base64 32`
- `AUTH_URL` - Your Railway app URL (e.g., `https://social-cat-production.up.railway.app`)
- `ADMIN_EMAIL` - Your admin login email
- `ADMIN_PASSWORD` - Your admin password
- `NODE_ENV` - Should be `production`

**API Keys (as needed):**
- `OPENAI_API_KEY` - For AI tweet generation
- `TWITTER_API_KEY`, `TWITTER_API_SECRET`, etc. - For Twitter automation
- `YOUTUBE_CLIENT_ID`, `YOUTUBE_CLIENT_SECRET` - For YouTube automation
- `RAPIDAPI_KEY` - For trending topics

**Auto-Generated by Railway (don't set manually):**
- `DATABASE_URL` - Added when you create PostgreSQL service
- `REDIS_URL` - Added when you create Redis service

### Example Workflow

```bash
# 1. Copy example env file
cp .env.example .env

# 2. Fill in your actual values in .env
nano .env

# 3. Generate Railway commands
npm run railway:env

# 4. Review and run the commands
npm run railway:env | grep 'railway variables set' | bash
```

### Notes

- The script requires the Railway CLI to be installed: `npm install -g @railway/cli`
- Make sure you're in the correct Railway project before running the commands
- Variables are set for the currently active environment (check with `railway status`)
